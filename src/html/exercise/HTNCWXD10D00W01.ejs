<!DOCTYPE html>
<html lang="ko">
    <head>
        <%-include('../include/guide/GUT00100HEAD.ejs') %>
        <script src="../../assets/js/select2-dropdownPosition.js"></script>
    </head>
    <body>
        <div id="wrap" class="wrap guide">
            <%-include('../include/guide/GUT00101HEADER.ejs') %>
            <main class="container guide HTNCWXD10D00W01 sub">
                <section class="container-wrap">
                    <div class="container-inner">
                        <em class="guide-sort-bar">
                            <span class="text-wrap">
                                <span class="text">&lt; 타이틀 입력 &gt;</span>
                            </span>
                            <span class="bar"></span>
                        </em>
                        <article class="contents">
                            <div class="contents-inner">
                                <div class="title-contents-wrap">
                                    <h3 class="title-contents-guide">
                                        <span class="text color-white">&lt; 타이틀 입력 &gt;</span>
                                    </h3>
                                </div>
                                <div class="contents-box-wrap">
                                    <div class="contents-box-inner">
                                        <div class="contents-box-line">
                                            <!-- 컨텐츠 복사 영역 -->
                                            <canvas id="canvas" width="1500" height="1200"></canvas>
                                            
                                            <!--// 컨텐츠 복사 영역 -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </section>
            </main>
            <%-include('../include/guide/GUT00103FOOTER.ejs') %>
        </div>
        <script type="importmap">
            {
                    "imports" : {
                        "three":"../../assets/modules/three.module.js",
                        "GLTFLoader":"../../assets/modules/GLTFLoader.js",
                        "OrbitControls":"../../assets/modules/OrbitControls.js"
                    }
                }
            </script>
        <script type="module">
            import * as THREE from 'three';
            import {
                GLTFLoader
            } from 'GLTFLoader';
            import {
                        OrbitControls
                    } from 'OrbitControls';            

            let scene = new THREE.Scene();
            let renderer = new THREE.WebGLRenderer({
                canvas: document.querySelector('#canvas'),
                antialias: true // 객체를 부드럽게
            });

            renderer.outputEncoding = THREE.sRGBEncoding;
            
            let camera = new THREE.PerspectiveCamera(30, 1);
            let controls = new OrbitControls(camera, renderer.domElement);
            
            camera.position.set(0, 0, 10);

            scene.background = new THREE.Color('white');

            // 조명
            let light = new THREE.AmbientLight(0xffffff, 1);
            scene.add(light);
            
            let loader = new GLTFLoader();
            loader.load('../../assets/gltf/whale/scene.gltf', function(gltf) {
                scene.add(gltf.scene);
                //renderer.render(scene, camera);

                
                function animate() {
                    requestAnimationFrame(animate);


                    controls.update();

                    renderer.render(scene, camera);
                }
                animate()
            });

        </script>
    </body>
</html>